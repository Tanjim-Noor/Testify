[pytest]
pythonpath =
    src
    tests
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -ra --strict-markers --maxfail=1 --cov=src --cov-report=term-missing --cov-report=html --cov-fail-under=80
asyncio_mode = auto
markers =
    integration: mark integration tests that require a running database
    slow: mark slow running tests that may be skipped locally
filterwarnings =
    ignore::DeprecationWarning

[coverage:run]
branch = True
source = src
omit =
    tests/*
    src/config/init_db.py
    src\config\init_db.py

[coverage:report]
show_missing = True
skip_empty = True
fail_under = 80
omit =
    tests/*
    src/config/init_db.py
    src\config\init_db.py
